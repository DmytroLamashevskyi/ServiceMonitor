<mah:MetroWindow  xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls" x:Class="ServiceMonitor.Views.ToastNotificationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Width="340"
        Height="100"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        Topmost="True"
        ResizeMode="NoResize"
        ShowActivated="False"
        Loaded="Window_Loaded"
        Opacity="0">

    <Border CornerRadius="10"
            Background="White"
            BorderBrush="{Binding AccentColor}"
            BorderThickness="1.5"
            Effect="{DynamicResource MahApps.Shadow.Elevation4}"
            Padding="0">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="6"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Colored strip on the left -->
            <Border Grid.Column="0"
                    Background="{Binding AccentColor}"
                    CornerRadius="10,0,0,10" />

            <!-- Content -->
            <StackPanel Grid.Column="1" Margin="10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,4" Grid.Column="0">
                        <Image Source="{Binding IconPath}" Width="18" Height="18" Margin="0,0,6,0"/>
                        <TextBlock Text="{Binding Title}"
                       FontWeight="Bold"
                       FontSize="14"
                       Foreground="Black"
                       VerticalAlignment="Center"/>
                    </StackPanel>

                    <Button Grid.Column="1"
                Content="✕"
                Width="24"
                Height="24"
                FontWeight="Bold"
                VerticalAlignment="Top"
                HorizontalAlignment="Right"
                Background="Transparent"
                BorderBrush="Transparent"
                Foreground="Gray"
                ToolTip="Close"
                Click="CloseButton_Click"
                Padding="0" />
                </Grid>

                <TextBlock Text="{Binding Message}"
               FontSize="13"
               TextWrapping="Wrap"
               Foreground="Black"
               Margin="0,4,0,0"/>
            </StackPanel>

        </Grid>
    </Border>
</mah:MetroWindow >
